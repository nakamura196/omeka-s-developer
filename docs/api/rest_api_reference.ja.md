# REST API リファレンス

## リソース値

主要な「リソース」タイプ（アイテム、アイテムセット、メディア）は、ユーザ編集可能な
メタデータを「リソース値」として保存しています。

すべての値には関連する[データタイプ](../modules/data_types.md)があり、
これはウェブ UI での値の表示方法、データベース内での保存方法、
そして JSON-LD へのレンダリングおよび取り込み方法を決定します。

Omeka S API の JSON-LD では、リソース値はオブジェクトの「トップレベル」配列として表現されます。
この各オブジェクトはそれぞれ単一の値を代表します：

```json
{
  "dcterms:title": [
    {
      "type": "literal",
      "property_id": 1,
      "property_label": "タイトル",
      "is_public": true,
      "@value": "最初の例タイトル"
    },
    {
      "type": "literal",
      "property_id": 1,
      "property_label": "タイトル",
      "is_public": true,
      "@value": "二番目の例タイトル"
    }
  ]
}
```

REST API により出力される値はプロパティごとにグループ化されます
（上記の例でのトップレベルの`dcterms:title`キーに注意してください）。

### 一般的な値のプロパティ

いくつかのオブジェクトプロパティはすべてのデータタイプに共通しています：

- `type`: (**必須**, 文字列) 値のデータタイプを宣言します。
  組み込みのタイプには`literal`, `uri`, `resource`, `resource:item`,
  `resource:itemset`, `resource:media`などがあり、モジュールによって追加されたりします。
- `property_id`: (**必須**, 数字または文字列) この値に関連付けられたプロパティの内部 Omeka S ID です。
  プロパティ ID は API 出力から再利用したり、`api/properties`エンドポイントを通じて発見することができます。
  Omeka S 4.0.0 以降では、ここで文字列`auto`を渡すと、配列のキーで使用された用語に
  マッチするプロパティを使用します（つまり、上記の例では、`dcterms:title`の正しいプロパティ ID を
  探して使用します）。
- `is_public`: (ブール) この値がプライベート（リソースの作成者と高レベルの権限を持つユーザーにのみ見える）と
  マークされているかどうか。入力時にこのプロパティが提供されない場合、値は公開とマークされます。
- `property_label`: (読み取り専用, 文字列) 関連プロパティの人間に読みやすい名前です。
  これは消費者の便宜のために JSON 出力に含まれていますが、入ってくるデータでは完全に無視されます。

### リテラル値のプロパティ

リテラル値（タイプ`literal`）はプレーンテキストです。

- `@value`: (**必須**, 文字列) 値のテキスト。
- `@language`: (文字列) このテキストの言語。
  言語は[BCP 47](https://www.w3.org/International/articles/language-tags/)コードとして指定するべきです。

### URI 値のプロパティ

URI 値（タイプ`uri`）は Omeka S システム外の他のリソースへのリンクを表します。

- `@id` (**必須**, 文字列) リンクされている URI。
- `o:label`: (文字列) リンクのための人間に読みやすいラベルで、ウェブ UI でのリンクテキストとして表示されます。

### リソース値のプロパティ

リソース値は同じ Omeka S インストール内の他のリソースへのリンクを表します。
メインタイプ`resource`はアイテムやセットへのリンクになることができ、
一方で`resource:item`, `resource:itemset`, `resource:media`はそれぞれの値が
アイテム、アイテムセット、メディアだけにリンクすることを制限します。

- `value_resource_id` (**必須**, 数字) リンクされているリソースの内部 Omeka S ID。
  リソース ID は、全てのリソースに対して API 出力で`o:id`として公開されています。

API への入力として`value_resource_id`のみが使用されますが、消費者の便宜のため、
いくつかのプロパティが出力に含まれています：

- `@id` (読み取り専用, 文字列) リンクされているリソースの API URL。
- `value_resource_name` (読み取り専用, 文字列) リンクされているリソースの種類の名前。
- `display_title` (読み取り専用, 文字列) リンクされているリソースのタイトル。
- `thumbnail_url`, `thumbnail_title`, `thumbnail_type` (読み取り専用, 文字列)
  リンクされたリソースにメディアが関連付けられている場合にのみ存在します。それぞれ、
  スクエアサムネイルのための URL、サムネイルのためのメディアのタイトル、そのメディアのタイプです。
- `url` (読み取り専用, 文字列) リソースの URL。この値は API 出力では`null`です；実際の URL は、
  JSON 出力がウェブページビューに組み込まれたときのみ提供されます。
